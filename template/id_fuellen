#If ID is needed again for any reason

function getNextId() {
  // Alle existierenden IDs sammeln
  const used = new Set(orders.map(o => o.id));
  let id = 1;
  // Suche die kleinste Zahl, die noch nicht verwendet wird
  while (used.has(id)) {
    id++;
  }
  return id;
}

app.post("/orders", (req, res) => {
  const { name, pizza } = req.body;

  if (!name || !pizza) {
    return res.status(400).json({ error: "Name and Pizza are required!" });
  }

  const newId = getNextId();
  const newOrder = { id: newId, name, pizza };
  orders.push(newOrder);
  res.status(201).json(newOrder);
});
